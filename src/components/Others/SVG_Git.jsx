import React, { useEffect, useRef } from 'react';
import { gsap } from '../../constant/gsap';

const SVG_Git = () => {
    const section = useRef(null);
    const icon = useRef(null);
    const itemEls = useRef(new Array());

    useEffect(() => {
        const defaults = {
            opacity: 0,
        };
        const scrollTrigger = {
            trigger: section.current,
            start: 'top 60%',
            end: 'bottom top',
            toggleActions: 'restart none none reverse',
        };
        const scrollTl = gsap.timeline({ defaults, scrollTrigger });
        scrollTl.from(icon.current, {
            y: 20,
            duration: 0.3,
            ease: 'elastic.out(1, 0.3)',
        });
        itemEls.current.map(el => {
            scrollTl.from(
                el,
                {
                    x: 20,
                    duration: 0.3,
                    ease: 'circ.out',
                },
                '-=.15'
            );
        });
    }, []);

    return (
        <svg viewBox='0 0 520 218' fill='none' xmlns='http://www.w3.org/2000/svg' ref={section}>
            <path
                d='M311.646 73.927C300.244 73.927 291.753 79.5257 291.753 93.0003C291.753 103.152 297.349 110.2 311.032 110.2C322.629 110.2 330.505 103.367 330.505 92.581C330.505 80.3582 323.457 73.9278 311.646 73.9278V73.927ZM288.842 169.065C286.144 172.376 283.456 175.894 283.456 180.047C283.456 188.33 294.019 190.823 308.53 190.823C320.551 190.823 336.924 189.981 336.924 178.805C336.924 172.162 329.047 171.751 319.093 171.127L288.841 169.065H288.842ZM350.186 74.5538C353.911 79.3219 357.854 85.9551 357.854 95.4883C357.854 118.492 339.823 131.962 313.716 131.962C307.077 131.962 301.067 131.135 297.34 130.101L290.499 141.083L310.807 142.324C346.663 144.608 367.796 145.646 367.796 173.2C367.796 197.04 346.869 210.503 310.807 210.503C273.296 210.503 258.997 200.969 258.997 184.598C258.997 175.268 263.143 170.306 270.396 163.456C263.555 160.564 261.279 155.386 261.279 149.788C261.279 145.225 263.555 141.081 267.291 137.141C271.02 133.207 275.164 129.264 280.138 124.706C269.985 119.733 262.315 108.956 262.315 93.6178C262.315 69.7876 278.067 53.4214 309.769 53.4214C318.682 53.4214 324.074 54.2417 328.84 55.4929H369.256V73.1043L350.186 74.5554'
                fill='#413000'
                ref={element => itemEls.current.push(element)}
            />
            <path
                d='M405.736 36.893C393.92 36.893 387.083 30.0478 387.083 18.2304C387.083 6.42793 393.92 -0.00158691 405.736 -0.00158691C417.757 -0.00158691 424.596 6.42793 424.596 18.2304C424.596 30.0476 417.757 36.893 405.736 36.893ZM378.997 161.437V145.073L389.57 143.626C392.473 143.206 392.884 142.589 392.884 139.473V78.5441C392.884 76.2691 392.265 74.8121 390.186 74.1953L378.997 70.2542L381.275 53.4734H424.179V139.475C424.179 142.797 424.379 143.208 427.496 143.628L438.067 145.074V161.438H378.995'
                fill='#413000'
                ref={element => itemEls.current.push(element)}
            />
            <path
                d='M520.019 153.405C511.103 157.752 498.05 161.691 486.231 161.691C461.57 161.691 452.247 151.752 452.247 128.324V74.0301C452.247 72.7892 452.247 71.9566 450.583 71.9566H436.078V53.5128C454.321 51.4348 461.569 42.3142 463.85 19.725H483.54V49.1636C483.54 50.609 483.54 51.2351 485.2 51.2351H514.42V71.9563H483.541V121.485C483.541 133.715 486.446 138.477 497.631 138.477C503.441 138.477 509.444 137.031 514.419 135.164L520.02 153.407'
                fill='#413000'
                ref={element => itemEls.current.push(element)}
            />
            <path
                d='M212.945 99.0184L118.179 4.2637C112.726 -1.19386 103.876 -1.19386 98.4161 4.2637L78.7389 23.9428L103.699 48.9026C109.501 46.9435 116.152 48.257 120.775 52.8811C125.423 57.534 126.727 64.2416 124.718 70.0636L148.775 94.1205C154.595 92.1149 161.31 93.4106 165.958 98.0662C172.455 104.562 172.455 115.087 165.958 121.584C159.46 128.083 148.934 128.083 142.432 121.584C137.547 116.695 136.339 109.516 138.813 103.497L116.377 81.0614L116.375 140.101C117.96 140.885 119.454 141.931 120.774 143.246C127.27 149.74 127.27 160.264 120.774 166.769C114.277 173.264 103.747 173.264 97.2567 166.769C90.7603 160.264 90.7603 149.741 97.2567 143.246C98.8622 141.643 100.72 140.43 102.702 139.617V80.0291C100.719 79.2195 98.8634 78.0155 97.2555 76.4C92.3348 71.4831 91.1497 64.2611 93.6733 58.2185L69.0678 33.6091L4.09446 98.5806C-1.36482 104.042 -1.36482 112.893 4.09446 118.351L98.855 213.106C104.311 218.563 113.158 218.563 118.622 213.106L212.944 118.799C218.402 113.339 218.402 104.485 212.944 99.0264'
                fill='#F05133'
                ref={icon}
            />
        </svg>
    );
};

export default SVG_Git;
